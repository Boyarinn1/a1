from telegram import Bot
import os

TELEGRAM_TOKEN = os.getenv("TELEGRAM_TOKEN")
TELEGRAM_CHAT_ID = os.getenv("TELEGRAM_CHAT_ID")
bot = Bot(token=TELEGRAM_TOKEN)


async def send_telegram_messages():
    topic_clean = "–¢–∞–π–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏—Å—Ç–æ—Ä–∏–∏: –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –≥–µ—Ä–æ–∏ –í—Ç–æ—Ä–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω—ã"
    text_content = """
    –í –±–µ—Å–ø–æ—â–∞–¥–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–æ–≤–æ–π –ø–æ—Å—Ç–µ–ª–∏ –í—Ç–æ—Ä–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω—ã —Å–æ—Ç–Ω–∏ –∏–º–µ–Ω –æ–±—Ä–µ–ª–∏ –≤–µ—á–Ω–æ—Å—Ç—å, –Ω–æ –µ—Å—Ç—å —Ç–µ, –∫—Ç–æ –æ—Å—Ç–∞–ª–∏—Å—å –≤ —Ç–µ–Ω–∏.
    –≠—Ç–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –≥–µ—Ä–æ–∏ –ø—Ä–æ–ª–∏–ª–∏ —Å–≤–æ—é –∫—Ä–æ–≤—å, –±–æ—Ä—è—Å—å –∑–∞ –º–∏—Ä –∏ —Å–≤–æ–±–æ–¥—É, –Ω–æ –∏—Ö –∏–º–µ–Ω–∞ –ø–æ—á—Ç–∏ –Ω–∏–∫–æ–º—É –Ω–µ –∏–∑–≤–µ—Å—Ç–Ω—ã.

    –û–¥–∏–Ω –∏–∑ —Ç–∞–∫–∏—Ö –≥–µ—Ä–æ–µ–≤ - –Æ—Ö–∞–Ω–Ω–∏ –õ–µ–º–µ—Ç—Ç–∏–Ω–µ–Ω, —Ñ–∏–Ω—Å–∫–∏–π —Å–Ω–∞–π–ø–µ—Ä. –í–æ –≤—Ä–µ–º—è –í—Ç–æ—Ä–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω—ã –æ–Ω —É–Ω–∏—á—Ç–æ–∂–∏–ª –±–æ–ª–µ–µ 250 —Å–æ–ª–¥–∞—Ç –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞, –Ω–æ –µ–≥–æ –∏–º—è –±—ã–ª–æ –∑–∞–±—ã—Ç–æ –Ω–∞ –¥–æ–ª–≥–∏–µ –≥–æ–¥—ã.

    <b>–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç:</b> –õ–µ–º–µ—Ç—Ç–∏–Ω–µ–Ω –±—ã–ª –Ω–µ —Ç–æ–ª—å–∫–æ –≤–µ–ª–∏–∫–∏–º —Å–Ω–∞–π–ø–µ—Ä–æ–º, –Ω–æ –∏ —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã–º –º—É–∑—ã–∫–∞–Ω—Ç–æ–º. –ï–≥–æ —Å–∫—Ä–∏–ø–∫–∞ —É–º–æ–ª–∫–∞–ª–∞ –ª–∏—à—å –≤ –º–æ–º–µ–Ω—Ç—ã –≥—Ä–æ–∑–Ω–æ–≥–æ —Å—Ä–∞–∂–µ–Ω–∏—è.

    –ü–æ–¥–≤–∏–≥–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –≥–µ—Ä–æ–µ–≤ –í—Ç–æ—Ä–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω—ã - —ç—Ç–æ –º–æ—â–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è –¥–ª—è –Ω–∞—Å. –û–Ω–∏ –Ω–∞–ø–æ–º–∏–Ω–∞—é—Ç –Ω–∞–º –æ —Ç–æ–º, —á—Ç–æ –¥–∞–∂–µ –≤ —Å–∞–º—ã—Ö —Ç—è–∂–µ–ª—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö —á–µ–ª–æ–≤–µ–∫ —Å–ø–æ—Å–æ–±–µ–Ω –Ω–∞ –ø–æ–¥–≤–∏–≥ –∏ —Å–∞–º–æ–ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ.
    """

    formatted_text = f"üèõ <b>{topic_clean}</b>\n\n{text_content}"

    # –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
    await bot.send_message(chat_id=TELEGRAM_CHAT_ID, text=formatted_text, parse_mode="HTML")

    # –û–ø—Ä–æ—Å
    question = "–ù–µ –±—ã–ª–æ –ª–∏ —Å–ª—É—á–∞–π–Ω–æ —Ç–∞–∫, —á—Ç–æ —É–ø–æ–º—è–Ω—É—Ç—ã–π –Æ—Ö–∞–Ω–Ω–∏ –õ–µ–º–µ—Ç—Ç–∏–Ω–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Å–≤–æ–µ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–µ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ, —á—Ç–æ–±—ã —Å–Ω–∞–π–ø–µ—Ä—Å–∫–∏–º–∏ –≤—ã—Å—Ç—Ä–µ–ª–∞–º–∏ –∏—Å–ø–æ–ª–Ω—è—Ç—å –º–µ–ª–æ–¥–∏–∏ –Ω–∞ —Å–∫—Ä–∏–ø–∫–µ —Å–º–µ—Ä—Ç–∏?"
    options = [
        "–î–∞, –∏ –∫–∞–∂–¥—ã–π –≤—ã—Å—Ç—Ä–µ–ª - —ç—Ç–æ –Ω–æ–≤–∞—è –Ω–æ—Ç–∞ –≤ –µ–≥–æ –∫—Ä–æ–≤–∞–≤–æ–π —Å–∏–º—Ñ–æ–Ω–∏–∏.",
        "–ö–æ–Ω–µ—á–Ω–æ, –∏ —è —Å–ª—ã—à–∞–ª, —á—Ç–æ –µ–≥–æ –ª—é–±–∏–º–∞—è –ø–µ—Å–Ω—è –±—ã–ª–∞ '–°–º–µ—Ä—Ç–µ–ª—å–Ω—ã–π –≤–∞–ª—å—Å'.",
        "–ë–µ–∑—É—Å–ª–æ–≤–Ω–æ, –∏ –µ–≥–æ –∫–æ–Ω—Ü–µ—Ä—Ç—ã –±—ã–ª–∏ –Ω–∞—Å—Ç–æ–ª—å–∫–æ –≤–ø–µ—á–∞—Ç–ª—è—é—â–∏–º–∏, —á—Ç–æ –±–∏–ª–µ—Ç—ã —Ä–∞–∑–ª–µ—Ç–∞–ª–∏—Å—å –∫–∞–∫ –≥–æ—Ä—è—á–∏–µ –ø–∏—Ä–æ–∂–∫–∏."
    ]

    await bot.send_poll(chat_id=TELEGRAM_CHAT_ID, question=question, options=options, is_anonymous=False)

